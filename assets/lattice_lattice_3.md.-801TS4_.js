import{_ as i,c as l,o as t,l as s,a,aZ as e,a5 as n}from"./chunks/framework.BNUkVSs0.js";const U=JSON.parse('{"title":"GGH公钥加密方案","description":"","frontmatter":{"outline":"deep","prev":{"text":"二、Babai算法","link":"lattice/lattice_2"},"head":[["link",{"rel":"stylesheet","href":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"}]]},"headers":[],"relativePath":"lattice/lattice_3.md","filePath":"lattice/lattice_3.md"}'),p={name:"lattice/lattice_3.md"},m=s("h1",{id:"ggh公钥加密方案",tabindex:"-1"},[a("GGH公钥加密方案 "),s("a",{class:"header-anchor",href:"#ggh公钥加密方案","aria-label":'Permalink to "GGH公钥加密方案"'},"​")],-1),r=s("h2",{id:"方案介绍",tabindex:"-1"},[a("方案介绍 "),s("a",{class:"header-anchor",href:"#方案介绍","aria-label":'Permalink to "方案介绍"'},"​")],-1),h=s("ul",null,[s("li",null,"注：该方案已于1999年被Ngugen破解，现已不安全。"),s("li",null,"有点类似于ElGamal或者ECC上的加密方案。"),s("li",null,[s("strong",null,"密钥生成"),a("：选择一个优质基"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"V"),s("mo",null,"="),s("mo",null,"("),s("msub",null,[s("mi",null,"V"),s("mn",null,"1")]),s("mo",{separator:"true"},","),s("mo",null,"⋯"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"V"),s("mi",null,"n")]),s("mo",null,")")]),s("annotation",{encoding:"application/x-tex"},"V=(V_1,\\cdots,V_n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathrm"},"1")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mpunct"},","),s("span",{class:"minner"},"⋯"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.22222em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit"},"n")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},")")])])]),a("作为私钥。选择一个整数矩阵"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"U")]),s("annotation",{encoding:"application/x-tex"},"U")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U")])])]),a("，使得"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"d"),s("mi",null,"e"),s("mi",null,"t"),s("mo",null,"("),s("mi",null,"U"),s("mo",null,")"),s("mo",null,"="),s("mo",null,"±"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"det(U) = \\pm 1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit"},"d"),s("span",{class:"mord mathit"},"e"),s("span",{class:"mord mathit"},"t"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"mclose"},")"),s("span",{class:"mrel"},"="),s("span",{class:"mord"},"±"),s("span",{class:"mord mathrm"},"1")])])]),a("。计算公钥"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"W"),s("mo",null,":"),s("mo",null,"="),s("mi",null,"U"),s("mi",null,"V")]),s("annotation",{encoding:"application/x-tex"},"W := UV")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"mrel"},":"),s("span",{class:"mrel"},"="),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V")])])]),a("，得到劣质基"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"W"),s("mo",null,"="),s("mo",null,"("),s("msub",null,[s("mi",null,"W"),s("mn",null,"1")]),s("mo",{separator:"true"},","),s("mo",null,"⋯"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"W"),s("mi",null,"n")]),s("mo",null,")")]),s("annotation",{encoding:"application/x-tex"},"W = (W_1,\\cdots,W_n)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathrm"},"1")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mpunct"},","),s("span",{class:"minner"},"⋯"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.13889em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit"},"n")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},")")])])]),a("作为公钥。")]),s("li",null,[s("strong",null,"加密"),a("："),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"E"),s("mi",null,"n"),s("mi",null,"c"),s("mo",null,"("),s("mi",null,"m"),s("mo",{separator:"true"},","),s("mi",null,"P"),s("mi",null,"K"),s("mo",null,"="),s("mi",null,"W"),s("mo",{separator:"true"},","),s("mi",null,"r"),s("mo",null,")")]),s("annotation",{encoding:"application/x-tex"},"Enc(m,PK=W,r)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"E"),s("span",{class:"mord mathit"},"n"),s("span",{class:"mord mathit"},"c"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"m"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mord mathit",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"mrel"},"="),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mclose"},")")])])]),a("。消息为小向量"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"m")]),s("annotation",{encoding:"application/x-tex"},"m")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.43056em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit"},"m")])])]),a("，选择噪声"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"r")]),s("annotation",{encoding:"application/x-tex"},"r")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.43056em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r")])])]),a("，输入公钥"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"W")]),s("annotation",{encoding:"application/x-tex"},"W")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W")])])]),a("，计算密文"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"c"),s("mo",null,"="),s("mi",null,"m"),s("mo",null,"⋅"),s("mi",null,"W"),s("mo",null,"+"),s("mi",null,"r")]),s("annotation",{encoding:"application/x-tex"},"c = m \\cdot W + r")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.76666em","vertical-align":"-0.08333em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit"},"c"),s("span",{class:"mrel"},"="),s("span",{class:"mord mathit"},"m"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"mbin"},"+"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r")])])]),a("。")]),s("li",null,[s("strong",null,"解密"),a("："),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"D"),s("mi",null,"e"),s("mi",null,"c"),s("mo",null,"("),s("mi",null,"c"),s("mo",{separator:"true"},","),s("mi",null,"S"),s("mi",null,"K"),s("mo",null,"="),s("mi",null,"V"),s("mo",null,")")]),s("annotation",{encoding:"application/x-tex"},"Dec(c,SK=V)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"mord mathit"},"e"),s("span",{class:"mord mathit"},"c"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"c"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"mord mathit",style:{"margin-right":"0.07153em"}},"K"),s("span",{class:"mrel"},"="),s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"mclose"},")")])])]),a("。调用"),s("em",null,"Babai算法"),a("，输入私钥"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"V")]),s("annotation",{encoding:"application/x-tex"},"V")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V")])])]),a(",计算"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"m"),s("mo",null,"="),s("mo",null,"["),s("mi",null,"c"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"⋅"),s("mi",null,"V"),s("msup",null,[s("mi",null,"W"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])]),s("annotation",{encoding:"application/x-tex"},"m=[cV^{-1}] \\cdot VW^{-1}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.8141079999999999em"}}),s("span",{class:"strut bottom",style:{height:"1.064108em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit"},"m"),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mord mathit"},"c"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])])]),a("，因为：")])],-1),c=s("div",{style:{"text-align":"center"}},[s("p",null,[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mtable",null,[s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"["),s("mi",null,"c"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"⋅"),s("mi",null,"V"),s("msup",null,[s("mi",null,"W"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])])])]),s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"="),s("mo",null,"["),s("mo",null,"("),s("mi",null,"m"),s("mo",null,"⋅"),s("mi",null,"W"),s("mo",null,"+"),s("mi",null,"r"),s("mo",null,")"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"⋅"),s("msup",null,[s("mi",null,"U"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mspace",{width:"1em"}),s("mo",null,"∵"),s("mi",null,"V"),s("msup",null,[s("mi",null,"W"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"="),s("msup",null,[s("mi",null,"U"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])])])]),s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"="),s("mo",null,"["),s("mi",null,"m"),s("mo",null,"⋅"),s("mi",null,"W"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"+"),s("mi",null,"r"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"⋅"),s("msup",null,[s("mi",null,"U"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])])])]),s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"="),s("mo",null,"["),s("mi",null,"m"),s("mo",null,"⋅"),s("mi",null,"U"),s("mi",null,"V"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"+"),s("mi",null,"r"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"⋅"),s("msup",null,[s("mi",null,"U"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])])])]),s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"="),s("mo",null,"["),s("mi",null,"m"),s("mo",null,"⋅"),s("mi",null,"U"),s("mo",null,"+"),s("mi",null,"r"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"⋅"),s("msup",null,[s("mi",null,"U"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])])])]),s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"≈"),s("mo",null,"["),s("mi",null,"m"),s("mo",null,"⋅"),s("mi",null,"U"),s("mo",null,"]"),s("mo",null,"⋅"),s("msup",null,[s("mi",null,"U"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])])])])]),s("mtr",null,[s("mtd",null,[s("mrow")]),s("mtd",null,[s("mrow",null,[s("mrow"),s("mspace",{width:"1em"}),s("mo",null,"="),s("mi",null,"m")])])])])]),s("annotation",{encoding:"application/x-tex"},"\\begin{aligned} & \\quad [cV^{-1}] \\cdot VW^{-1} \\\\ & \\quad = [(m \\cdot W + r)V^{-1}] \\cdot U^{-1} \\quad \\because VW^{-1} = U^{-1} \\\\ & \\quad = [m \\cdot WV^{-1} + rV^{-1}] \\cdot U^{-1} \\\\ & \\quad = [m \\cdot UVV^{-1} + rV^{-1}] \\cdot U^{-1} \\\\ & \\quad = [m \\cdot U + rV^{-1}] \\cdot U^{-1} \\\\ & \\quad \\approx [m \\cdot U] \\cdot U^{-1} \\\\ & \\quad = m \\end{aligned}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"4.45em"}}),s("span",{class:"strut bottom",style:{height:"8.4em","vertical-align":"-3.95em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mtable"},[s("span",{class:"col-align-r"},[s("span",{class:"vlist"},[s("span",{style:{top:"-3.6100000000000003em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{style:{top:"-2.4100000000000006em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{style:{top:"-1.2100000000000006em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{style:{top:"-0.010000000000000397em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{style:{top:"1.1899999999999997em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{style:{top:"2.39em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{style:{top:"3.5900000000000003em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"})]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist"},[s("span",{style:{top:"-3.6100000000000003em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mopen"},"["),s("span",{class:"mord mathit"},"c"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])]),s("span",{style:{top:"-2.4100000000000006em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"m"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"mbin"},"+"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel amsrm"},"∵"),s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mrel"},"="),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])]),s("span",{style:{top:"-1.2100000000000006em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mord mathit"},"m"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mbin"},"+"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])]),s("span",{style:{top:"-0.010000000000000397em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mord mathit"},"m"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mbin"},"+"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])]),s("span",{style:{top:"1.1899999999999997em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mord mathit"},"m"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"mbin"},"+"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])]),s("span",{style:{top:"2.39em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel"},"≈"),s("span",{class:"mopen"},"["),s("span",{class:"mord mathit"},"m"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"⋅"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])]),s("span",{style:{top:"3.5900000000000003em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"}),s("span",{class:"mord mspace quad"}),s("span",{class:"mrel"},"="),s("span",{class:"mord mathit"},"m")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])])])])])])])])],-1),o=s("ul",null,[s("li",null,[a("二维格上的演示： "),s("img",{src:e,alt:"二维格上的演示"})]),s("li",null,[a("由于在"),s("em",null,"Babai"),a("算法中，噪声r是小向量，则求出的矩阵T是小的，四舍五入后就为0，所以"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mo",null,"["),s("mi",null,"r"),s("msup",null,[s("mi",null,"V"),s("mrow",null,[s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,"]"),s("mo",null,"≈"),s("mn",null,"0")]),s("annotation",{encoding:"application/x-tex"},"[rV^{-1}] \\approx 0")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.8141079999999999em"}}),s("span",{class:"strut bottom",style:{height:"1.064108em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mopen"},"["),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),a("​")])])]),s("span",{class:"mclose"},"]"),s("span",{class:"mrel"},"≈"),s("span",{class:"mord mathrm"},"0")])])])])],-1),k=s("h2",{id:"代码举例",tabindex:"-1"},[a("代码举例 "),s("a",{class:"header-anchor",href:"#代码举例","aria-label":'Permalink to "代码举例"'},"​")],-1),d=s("div",{class:"glass-text"}," ps: 中文区这方面的资料是真的少 ",-1),u=s("ol",null,[s("li",null,[a("生成优质基"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"V")]),s("annotation",{encoding:"application/x-tex"},"V")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.22222em"}},"V")])])])])],-1),y=n(`<div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#type: ignore</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># sage</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hadamard_ratio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(V):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    prod_norm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> V.nrows()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        row </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> V.row(i)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        row_norm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> row.norm()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 计算欧几里得氏范数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        prod_norm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> row_norm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 计算 Hadamard 比率</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ratio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(V.determinant()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prod_norm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prod_norm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> else</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ratio)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n).n() </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gen_good_basis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m,q,h):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ## 生成优质基,满足Hadamard比率大于h</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    - m: 基的维度</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    - q: 随机矩阵的元素范围[-q,q]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    - h: Hadamard比率的下限</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> random_matrix(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ZZ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,m,m,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">q,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">q)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hadamard_ratio(A) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> random_matrix(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ZZ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,m,m,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">q,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">q)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gen_good_basis(m,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(V)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hadamard_ratio(V))</span></span></code></pre></div><div class="terminal"><div class="terminal-header"><div class="terminal-button red"></div><div class="terminal-button yellow"></div><div class="terminal-button green"></div></div><div class="terminal-content"><pre><code>[ 231  715  266 -815  -69]
[  41 -228 -773 -123 -510]
[ -58  509  -56  569 -217]
[ 646 -491 -293 -106  279]
[  96 -984  695 -500 -991]
0.908206075850296</code></pre></div></div>`,2),g=s("ol",{start:"2"},[s("li",null,[a("生成随机矩阵"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"U")]),s("annotation",{encoding:"application/x-tex"},"U")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U")])])]),a(",且"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"d"),s("mi",null,"e"),s("mi",null,"t"),s("mo",null,"("),s("mi",null,"U"),s("mo",null,")"),s("mo",null,"="),s("mo",null,"±"),s("mn",null,"1")]),s("annotation",{encoding:"application/x-tex"},"det(U) = \\pm 1")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit"},"d"),s("span",{class:"mord mathit"},"e"),s("span",{class:"mord mathit"},"t"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"U"),s("span",{class:"mclose"},")"),s("span",{class:"mrel"},"="),s("span",{class:"mord"},"±"),s("span",{class:"mord mathrm"},"1")])])])])],-1),E=n(`<div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># type: ignore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> random_SLnZ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n, minval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, maxval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ## 生成一个n阶行列式为正负1的矩阵</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    - n: 矩阵的阶数</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    - minval: 随机数的最小值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    - maxval: 随机数的最大值</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> random_matrix(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ZZ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n, n, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">minval, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">maxval)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> M.determinant()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # 用伴随矩阵调整为行列式1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> M.change_ring(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">QQ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> M.determinant() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> M.determinant() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> M</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成一个5阶行列式为1的矩阵</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">U </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> random_SLnZ(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(U)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(U.determinant())</span></span></code></pre></div><div class="terminal"><div class="terminal-header"><div class="terminal-button red"></div><div class="terminal-button yellow"></div><div class="terminal-button green"></div></div><div class="terminal-content"><pre><code>[-6  1 -7 -1  8]
[-7 -8 -3 -4  9]
[-4 -2 -1 -3  2]
[ 2  8 -5  7 -7]
[ 7 -7  8 -2 10]
1</code></pre></div></div>`,2),z=s("ol",{start:"3"},[s("li",null,[a("生成劣质基"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"W")]),s("annotation",{encoding:"application/x-tex"},"W")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.68333em"}}),s("span",{class:"strut bottom",style:{height:"0.68333em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"W")])])]),a("作为公钥，Hadamard比率很小")])],-1),F=n(`<div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#type: ignore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">W</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">U</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(W)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hadamard_ratio(W))</span></span></code></pre></div><div class="terminal"><div class="terminal-header"><div class="terminal-button red"></div><div class="terminal-button yellow"></div><div class="terminal-button green"></div></div><div class="terminal-content"><pre><code>[  -817 -15462   3876  -3110  -6784]
[ -3491 -11600  11917    906  -4821]
[ -2694  -3408   2807   2255  -1306]
[  4930    512 -12288  -2701   5757]
[   534   1815  14361  -5080  -9117]
0.0702745725647819</code></pre></div></div>`,2),x=s("ol",{start:"4"},[s("li",null,[a("加密"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"M"),s("mi",null,"e"),s("mi",null,"s"),s("mi",null,"s"),s("mi",null,"a"),s("mi",null,"g"),s("mi",null,"e"),s("mo",null,"="),s("mo",null,"["),s("mo",null,"−"),s("mn",null,"7"),s("mn",null,"8"),s("mo",{separator:"true"},","),s("mn",null,"4"),s("mn",null,"8"),s("mo",{separator:"true"},","),s("mn",null,"5"),s("mo",{separator:"true"},","),s("mn",null,"6"),s("mn",null,"6"),s("mo",{separator:"true"},","),s("mn",null,"8"),s("mn",null,"9"),s("mo",null,"]")]),s("annotation",{encoding:"application/x-tex"},"Message=[-78,48,5,66,89]")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"M"),s("span",{class:"mord mathit"},"e"),s("span",{class:"mord mathit"},"s"),s("span",{class:"mord mathit"},"s"),s("span",{class:"mord mathit"},"a"),s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord mathit"},"e"),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"7"),s("span",{class:"mord mathrm"},"8"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"4"),s("span",{class:"mord mathrm"},"8"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"5"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"6"),s("span",{class:"mord mathrm"},"6"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"8"),s("span",{class:"mord mathrm"},"9"),s("span",{class:"mclose"},"]")])])]),a(",噪声"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"r"),s("mo",null,"="),s("mo",null,"["),s("mo",null,"−"),s("mn",null,"9"),s("mo",{separator:"true"},","),s("mo",null,"−"),s("mn",null,"5"),s("mo",{separator:"true"},","),s("mn",null,"1"),s("mo",{separator:"true"},","),s("mo",null,"−"),s("mn",null,"2"),s("mo",{separator:"true"},","),s("mn",null,"4"),s("mo",null,"]")]),s("annotation",{encoding:"application/x-tex"},"r=[-9,-5,1,-2,4]")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mrel"},"="),s("span",{class:"mopen"},"["),s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"9"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"5"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"1"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},"−"),s("span",{class:"mord mathrm"},"2"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"4"),s("span",{class:"mclose"},"]")])])]),a("。")])],-1),f=n(`<div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#type: ignore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Matrix([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">78</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">66</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">89</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Matrix([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">W</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c)</span></span></code></pre></div><div class="terminal"><div class="terminal-header"><div class="terminal-button red"></div><div class="terminal-button yellow"></div><div class="terminal-button green"></div></div><div class="terminal-content"><pre><code>[ 255585  827518  750845 -333045 -140233]
</code></pre></div></div><ol start="5"><li>解密</li></ol><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V.inverse()).n()).apply_map(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V_1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(V_1)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decrypt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> V_1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">W.inverse()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Dec=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(decrypt)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V_1).norm()) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 计算解密后的向量的范数</span></span></code></pre></div><div class="terminal"><div class="terminal-header"><div class="terminal-button red"></div><div class="terminal-button yellow"></div><div class="terminal-button green"></div></div><div class="terminal-content"><pre><code>
[ 255585  827518  750845 -333045 -140233]
[ 867 -567  779  155  246]
[ 255594  827523  750844 -333043 -140237]
Dec=
[-78  48   5  66  89]
11.269427669584646</code></pre></div></div><ul><li><p>可以看到，解密后的消息和Message一致。</p></li><li><p>最后再看看使用劣质基，既公钥解密的情况</p></li></ul><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">W.inverse()).n()).apply_map(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V_1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(V_1)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">decrypt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> V_1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">W.inverse()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Dec=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(decrypt)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">V_1).norm())</span></span></code></pre></div><div class="terminal"><div class="terminal-header"><div class="terminal-button red"></div><div class="terminal-button yellow"></div><div class="terminal-button green"></div></div><div class="terminal-content"><pre><code>[-64  53 -93  21  62]
[  12301 -176500  -15848  -40502  -58016]
Dec=
[-9225 -3168 67166 30934 18458]
1321891.9952730632</code></pre></div></div><ul><li>可以看到解密后的消息和message完全不同，二者和原向量的欧几里得范数的差距也较大，因此，对于劣质基，Babai算法的结果无法作为CVP的解。</li><li>PS：生成公私钥这步操作由于纯靠随机数碰运气试，耗时挺不稳定的，但是平均都要1s往上，目前还不清楚在实际应用中是如何处理的。</li></ul>`,9),v=[m,r,h,c,o,k,d,u,y,g,E,z,F,x,f];function b(C,_,A,D,V,w){return t(),l("div",null,v)}const W=i(p,[["render",b]]);export{U as __pageData,W as default};
